<mxfile host="Electron" modified="2024-01-01T00:00:00.000Z" agent="Draw.io" etag="xxx" version="21.0.0" type="device">
  <diagram name="GraspNet全流程架构" id="graspnet-flow">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="GraspNet全流程架构 - 深度学习抓取系统" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="30" width="480" height="40" as="geometry"/>
        </mxCell>

        <!-- 硬件层 -->
        <mxCell id="hardware-layer" value="硬件层" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="160" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="realsense" value="RealSense D435&#xa;RGB-D相机" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="40" y="160" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="robot-arm" value="机械臂&#xa;(RM65)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="180" y="160" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- 数据采集层 -->
        <mxCell id="data-layer" value="数据采集层" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="360" y="100" width="160" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="color-img" value="彩色图像&#xa;(640x480)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="320" y="160" width="100" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="depth-img" value="深度图像&#xa;(640x480)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="440" y="160" width="100" height="60" as="geometry"/>
        </mxCell>

        <!-- 视觉处理层 -->
        <mxCell id="vision-layer" value="视觉处理层 (cv_process.py)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="260" width="460" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="yolo-world" value="YOLO-World&#xa;目标检测" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="100" y="320" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="sam" value="SAM模型&#xa;实例分割" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="250" y="320" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="mask-output" value="分割掩码&#xa;(mask.png)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="320" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- GraspNet推理层 -->
        <mxCell id="graspnet-layer" value="GraspNet推理层 (grasp_process.py)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="420" width="460" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="pointcloud" value="点云生成&#xa;(create_point_cloud)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="100" y="480" width="130" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="graspnet-model" value="GraspNet模型&#xa;位姿预测" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="260" y="480" width="130" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="collision-detect" value="碰撞检测&#xa;+NMS去重" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="420" y="480" width="130" height="60" as="geometry"/>
        </mxCell>

        <!-- 坐标转换层 -->
        <mxCell id="transform-layer" value="坐标转换层 (convert_d.py)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="580" width="460" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="hand-eye" value="手眼标定参数&#xa;(R, T)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="100" y="640" width="130" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="coord-trans" value="相机坐标→&#xa;机械臂基坐标" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="260" y="640" width="130" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="grasp-pose" value="最终抓取位姿&#xa;[x,y,z,rx,ry,rz]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="420" y="640" width="130" height="60" as="geometry"/>
        </mxCell>

        <!-- 运动控制层 -->
        <mxCell id="control-layer" value="运动控制层 (grasp.py)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="100" width="520" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="pre-grasp" value="预抓取位姿计算&#xa;(偏移0.1m)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="620" y="160" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="motion-plan" value="运动规划序列&#xa;1.预抓取&#xa;2.抓取&#xa;3.初始位&#xa;4.放置位" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="780" y="160" width="140" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="gripper-control" value="夹爪控制&#xa;Pick/Release" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="940" y="160" width="140" height="60" as="geometry"/>
        </mxCell>

        <!-- 配置模块 -->
        <mxCell id="config-module" value="配置模块" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="300" width="520" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="camera-intr" value="相机内参&#xa;fx,fy,cx,cy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="620" y="360" width="130" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="robot-config" value="机械臂配置&#xa;config.yaml" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="780" y="360" width="130" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="graspnet-weight" value="GraspNet权重&#xa;checkpoint-rs.tar" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="940" y="360" width="140" height="60" as="geometry"/>
        </mxCell>

        <!-- 关键特性 -->
        <mxCell id="features" value="关键特性" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="460" width="520" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="feature1" value="✓ 深度学习6-DOF抓取" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="620" y="520" width="220" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="feature2" value="✓ 自动目标检测与分割" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="860" y="520" width="220" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="feature3" value="✓ 碰撞检测与位姿优化" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="620" y="580" width="220" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="feature4" value="✓ 手眼标定坐标转换" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="860" y="580" width="220" height="40" as="geometry"/>
        </mxCell>

        <!-- 数据流箭头 -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="realsense" target="color-img">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="realsense" target="depth-img">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="color-img" target="yolo-world">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="yolo-world" target="sam">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="sam" target="mask-output">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" edge="1" parent="1" source="mask-output" target="pointcloud">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" edge="1" parent="1" source="pointcloud" target="graspnet-model">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" edge="1" parent="1" source="graspnet-model" target="collision-detect">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="collision-detect" target="coord-trans">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="coord-trans" target="grasp-pose">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="grasp-pose" target="pre-grasp">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="pre-grasp" target="motion-plan">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="motion-plan" target="robot-arm">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
