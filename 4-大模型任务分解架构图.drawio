<mxfile host="Electron" modified="2024-01-01T00:00:00.000Z" agent="Draw.io" etag="xxx" version="21.0.0" type="device">
  <diagram name="å¤§æ¨¡åž‹ä»»åŠ¡åˆ†è§£æž¶æž„" id="llm-task-decompose">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="å¤§æ¨¡åž‹ä»»åŠ¡åˆ†è§£æž¶æž„ - vLLMéƒ¨ç½²ä¸ŽæŽ¨ç†" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#0066cc;" vertex="1" parent="1">
          <mxGeometry x="240" y="30" width="680" height="40" as="geometry"/>
        </mxCell>

        <!-- ç”¨æˆ·å±‚ -->
        <mxCell id="user-layer" value="ç”¨æˆ·äº¤äº’å±‚" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="320" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="user" value="ðŸ‘¤ ç”¨æˆ·" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="100" y="160" width="80" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="complex-task" value="å¤æ‚ä»»åŠ¡è¾“å…¥&#xa;&quot;è¯·å¸®æˆ‘æ•´ç†æ¡Œé¢ä¸Šçš„ç‰©å“,&#xa;æŠŠä¹¦æ”¾åˆ°ä¹¦æž¶,&#xa;æŠŠæ¯å­æ”¾åˆ°åŽ¨æˆ¿,&#xa;æŠŠç¬”æ”¾åˆ°ç¬”ç­’&quot;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="210" y="160" width="240" height="90" as="geometry"/>
        </mxCell>

        <!-- vLLMéƒ¨ç½²å±‚ -->
        <mxCell id="vllm-deploy" value="vLLMéƒ¨ç½²å±‚" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="290" width="1000" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="vllm-server" value="ðŸ–¥ï¸ vLLMæœåŠ¡å™¨&#xa;ä¸»æœº: 192.168.1.6&#xa;ç«¯å£: 1034&#xa;GPUåˆ©ç”¨çŽ‡: 60%" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="100" y="350" width="180" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="model-info" value="ðŸ§  æ¨¡åž‹ä¿¡æ¯&#xa;åç§°: Qwen2.5-3B-Instruct&#xa;é‡åŒ–: GPTQ-Int8&#xa;æœåŠ¡å: Qwen3B&#xa;è·¯å¾„: /local/HXH/llm/..." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="300" y="350" width="250" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="deploy-cmd" value="éƒ¨ç½²å‘½ä»¤&#xa;CUDA_VISIBLE_DEVICES=1 \&#xa;python -m vllm.entrypoints.openai.api_server \&#xa;  --model &quot;/path/to/Qwen2.5-3B-Instruct-GPTQ-Int8/&quot; \&#xa;  --served-model-name &quot;Qwen3B&quot; \&#xa;  --host 0.0.0.0 --port 1034 \&#xa;  --gpu-memory-utilization 0.6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="570" y="350" width="480" height="120" as="geometry"/>
        </mxCell>

        <!-- APIæŽ¥å£å±‚ -->
        <mxCell id="api-layer" value="OpenAIå…¼å®¹APIå±‚" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="500" width="1000" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="api-endpoint" value="APIç«¯ç‚¹&#xa;POST /v1/chat/completions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="100" y="560" width="200" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="request-format" value="è¯·æ±‚æ ¼å¼&#xa;{&#xa;  &quot;model&quot;: &quot;Qwen3B&quot;,&#xa;  &quot;messages&quot;: [...]&#xa;}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;fontFamily=Courier New;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="320" y="560" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="response-format" value="å“åº”æ ¼å¼&#xa;{&#xa;  &quot;choices&quot;: [{&#xa;    &quot;message&quot;: {&#xa;      &quot;content&quot;: &quot;...&quot;&#xa;    }&#xa;  }]&#xa;}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;fontFamily=Courier New;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="540" y="560" width="200" height="100" as="geometry"/>
        </mxCell>

        <!-- ä»»åŠ¡åˆ†è§£å±‚ -->
        <mxCell id="decompose-layer" value="ä»»åŠ¡åˆ†è§£å±‚ (LLMæŽ¨ç†)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="480" y="100" width="600" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="llm-reasoning" value="ðŸ¤– LLMæŽ¨ç†å¼•æ“Ž&#xa;â€¢ ç†è§£å¤æ‚ä»»åŠ¡&#xa;â€¢ åˆ†è§£å­ä»»åŠ¡&#xa;â€¢ ç”Ÿæˆæ‰§è¡Œè®¡åˆ’" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;" vertex="1" parent="1">
          <mxGeometry x="500" y="160" width="200" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="subtasks" value="å­ä»»åŠ¡åˆ†è§£ç»“æžœ&#xa;1ï¸âƒ£ è¯†åˆ«&quot;ä¹¦&quot;â†’ç§»åŠ¨åˆ°ä¹¦æž¶&#xa;2ï¸âƒ£ è¯†åˆ«&quot;æ¯å­&quot;â†’ç§»åŠ¨åˆ°åŽ¨æˆ¿&#xa;3ï¸âƒ£ è¯†åˆ«&quot;ç¬”&quot;â†’ç§»åŠ¨åˆ°ç¬”ç­’&#xa;&#xa;æ¯ä¸ªå­ä»»åŠ¡åŒ…å«:&#xa;â€¢ ç›®æ ‡ç‰©ä½“&#xa;â€¢ æ”¾ç½®ä½ç½®&#xa;â€¢ æ‰§è¡Œä¼˜å…ˆçº§" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="730" y="160" width="320" height="140" as="geometry"/>
        </mxCell>

        <!-- æ‰§è¡Œè§„åˆ’å±‚ -->
        <mxCell id="plan-layer" value="æ‰§è¡Œè§„åˆ’å±‚" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="480" y="340" width="600" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="task1" value="ä»»åŠ¡1: ä¹¦â†’ä¹¦æž¶&#xa;â€¢ æ£€æµ‹&quot;ä¹¦&quot;&#xa;â€¢ æŠ“å–è®¡åˆ’&#xa;â€¢ è·¯å¾„è§„åˆ’&#xa;â€¢ æ”¾ç½®æ‰§è¡Œ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="500" y="400" width="160" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="task2" value="ä»»åŠ¡2: æ¯å­â†’åŽ¨æˆ¿&#xa;â€¢ æ£€æµ‹&quot;æ¯å­&quot;&#xa;â€¢ æŠ“å–è®¡åˆ’&#xa;â€¢ è·¯å¾„è§„åˆ’&#xa;â€¢ æ”¾ç½®æ‰§è¡Œ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="680" y="400" width="160" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="task3" value="ä»»åŠ¡3: ç¬”â†’ç¬”ç­’&#xa;â€¢ æ£€æµ‹&quot;ç¬”&quot;&#xa;â€¢ æŠ“å–è®¡åˆ’&#xa;â€¢ è·¯å¾„è§„åˆ’&#xa;â€¢ æ”¾ç½®æ‰§è¡Œ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="860" y="400" width="160" height="90" as="geometry"/>
        </mxCell>

        <!-- ç³»ç»Ÿé›†æˆå±‚ -->
        <mxCell id="integration-layer" value="ç³»ç»Ÿé›†æˆå±‚" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="680" width="1000" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="vision-module" value="è§†è§‰æ¨¡å—&#xa;YOLO+SAM&#xa;ç›®æ ‡æ£€æµ‹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="100" y="740" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="grasp-module" value="æŠ“å–æ¨¡å—&#xa;GraspNet/ä¼ ç»Ÿ&#xa;ä½å§¿è§„åˆ’" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="260" y="740" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="motion-module" value="è¿åŠ¨æ¨¡å—&#xa;è·¯å¾„è§„åˆ’&#xa;é¿éšœæŽ§åˆ¶" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="420" y="740" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="robot-module" value="æœºæ¢°è‡‚æ¨¡å—&#xa;è¿åŠ¨æŽ§åˆ¶&#xa;å¤¹çˆªæŽ§åˆ¶" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="580" y="740" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="feedback-module" value="åé¦ˆæ¨¡å—&#xa;æ‰§è¡Œç›‘æŽ§&#xa;å¼‚å¸¸å¤„ç†" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="740" y="740" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="llm-replan" value="LLMé‡è§„åˆ’&#xa;å¤±è´¥é‡è¯•&#xa;ä»»åŠ¡è°ƒæ•´" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="900" y="740" width="140" height="60" as="geometry"/>
        </mxCell>

        <!-- å…³é”®ä¼˜åŠ¿ -->
        <mxCell id="advantages" value="vLLMéƒ¨ç½²ä¼˜åŠ¿" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="760" y="560" width="320" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="adv1" value="âš¡ é«˜åžåé‡æŽ¨ç† (PagedAttention)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="780" y="620" width="280" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="adv2" value="ðŸ’¾ GPUå†…å­˜ä¼˜åŒ– (åŠ¨æ€æ‰¹å¤„ç†)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="780" y="660" width="280" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="adv3" value="ðŸ”Œ OpenAIå…¼å®¹API (æ˜“äºŽé›†æˆ)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="780" y="700" width="280" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="adv4" value="ðŸ  æœ¬åœ°éƒ¨ç½² (æ•°æ®éšç§ä¿æŠ¤)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="780" y="740" width="280" height="30" as="geometry"/>
        </mxCell>

        <!-- æ•°æ®æµç®­å¤´ -->
        <mxCell id="arr1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="complex-task" target="llm-reasoning">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="llm-reasoning" target="subtasks">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="llm-reasoning" target="vllm-server">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" edge="1" parent="1" source="vllm-server" target="api-endpoint">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="subtasks" target="task1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="subtasks" target="task2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" parent="1" source="subtasks" target="task3">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="task1" target="vision-module">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="vision-module" target="grasp-module">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="grasp-module" target="motion-module">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="motion-module" target="robot-module">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="robot-module" target="feedback-module">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="feedback-module" target="llm-replan">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
